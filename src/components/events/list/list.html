<div>
  <div class="sc-filter">
    <div class="sc-filter-item">
      <label class="sc-filter-label">ID: </label>
      <input class="sc-filter-input" type="input" v-model="filter._id" />
    </div>
    <div class="sc-filter-item">
      <label class="sc-filter-label">Title: </label>
      <input class="sc-filter-input" type="text" v-model="filter.title" />
    </div>
    <div class="sc-filter-item">
      <label class="sc-filter-label">Status: </label>
      <select class="sc-filter-input" id="type" v-model="filter.status" required name="type" v-validate="'required'">
        <option v-for="status in event_status" :value="status">{{status}}</option>
      </select>
    </div>
    <div class="sc-filter-item">
      <label class="sc-filter-label">Classification: </label>
      <select
        class="sc-filter-input"
        id="type"
        v-model="filter.classification"
        required
        name="type"
        v-validate="'required'"
      >
        <option v-for="classification in event_classification" :value="classification">{{classification}}</option>
      </select>
    </div>
    <div class="sc-filter-item">
      <label class="sc-filter-label">Category: </label>
      <select class="sc-filter-input" id="type" v-model="filter.category" required name="type" v-validate="'required'">
        <option v-for="category in event_category" :value="category">{{category}}</option>
      </select>
    </div>
    <div class="sc-filter-item">
      <label class="sc-filter-label">Event Type: </label>
      <select class="sc-filter-input" id="type" v-model="filter.type" required name="type">
        <option v-for="type in event_type" :value="type">{{type}}</option>
      </select>
    </div>
    <div class="sc-filter-item sc-filter-button">
      <input
        type="submit"
        value="Filter"
        class="sc-btn sc-btn-secondary sc-btn-md sc-btn-rounded sc-mr-10"
        @click="filterData"
      />
      <input
        type="submit"
        value="Reset"
        class="sc-btn sc-btn-secondary sc-btn-md sc-btn-rounded sc-mr-10"
        @click="resetAll"
      />
      <vue-json-to-csv
        :json-data="list"
        csv-title="Events"
        :labels="{
				title: { title: 'Title' },
				type: { title: 'Type' },
				status: {title: 'Status'},
				start_date: {title: 'Event start date'},
				end_date: {title: 'Event end date'},
				total_quota: {title: 'Total Quota'},
				total_quota_available: {title: 'Available Quota'},
				classification: {title: 'Classification'},
				created_at: {title: 'Created At'}
				}"
      >
        <button class="sc-btn sc-btn-secondary sc-btn-md sc-btn-rounded sc-uppercase sc-mr-10">
          <b>Export</b>
        </button>
      </vue-json-to-csv>
    </div>
  </div>
  <div class="sc-table-responsive">
    <table class="sc-table">
      <thead>
        <tr>
          <th>
            Title
            <sortField v-show="!is_loading" field="title" :sort="sortParam" @sort="sort" />
          </th>
          <th>
            Type
            <sortField v-show="!is_loading" field="type" :sort="sortParam" @sort="sort" />
          </th>
          <th>
            Status
            <sortField v-show="!is_loading" field="status" :sort="sortParam" @sort="sort" />
          </th>
          <th>
            Event Date
            <!-- <sortField v-show="!is_loading" field="email" :sort="sortParam"
						@sort="sort" /> -->
          </th>
          <th>
            Total Quota
            <sortField v-show="!is_loading" field="total_quota" :sort="sortParam" @sort="sort" />
          </th>
          <th>
            Available Quota
            <sortField v-show="!is_loading" field="total_quota_available" :sort="sortParam" @sort="sort" />
          </th>
          <th>
            Classification
            <sortField v-show="!is_loading" field="classification" :sort="sortParam" @sort="sort" />
          </th>
          <th>
            Created At
            <sortField v-show="!is_loading" field="created_at" :sort="sortParam" @sort="sort" />
          </th>
          <th>Detail</th>
        </tr>
      </thead>
      <tbody>
        <TableEmpty :cols="9" v-if="!is_loading && !(list && list.length)" />

        <tr v-for="(data,key) in list">
          <td>{{data.title}}</td>
          <td>{{data.type}}</td>
          <td>{{data.status}}</td>
          <td style="width: 15%">{{dateFormat_dmY(data.start_date)}} - {{dateFormat_dmY(data.end_date)}}</td>
          <td>{{data.total_quota}}</td>
          <td>{{data.total_quota_available}}</td>
          <td>{{data.classification}}</td>
          <td v-if="data.created_at">{{dateFormat_dmY(data.created_at)}}</td>
          <td>
            <div class="sc-table-btn">
              <router-link class="sc-mr-10" :to="`detail/${data._id}`" style="color: #225d42">
                <i class="fa fa-search"></i>
              </router-link>
              <span v-if="!data.is_deleted" @click.prevent="remove(data._id,key)" class="btn-default text-danger">
                <i class="fa fa-trash-o"></i>
              </span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="sc-pagination-page">
    <div class="sc-pagination-content">
      <div class="sc-pagination-text-container">
        <div class="sc-pagination-text">Page: {{ currentPage }} out of {{ totalPage }}</div>
        <div class="sc-pagination-text">Total Record: {{ currentTotalRecord }}</div>
      </div>
      <div class="table-pagination">
        <DisplayPerPage :all="all" @display="display"></DisplayPerPage>
        <Pagination :limit="limit" :skip="skip" :total="totalPage" @page="setSkip" />
      </div>
    </div>
  </div>
</div>
